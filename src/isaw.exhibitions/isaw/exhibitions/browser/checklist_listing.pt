<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">

<body>

<metal:content-core fill-slot="content-core">
  <metal:define-core define-macro="content-core">
    <div class="ExhibitionsChecklistView">
    <metal:use-core use-macro="context/folder_listing/macros/content-core">
      <div class="listing" metal:fill-slot="entries">
        <tal:entry tal:repeat="item batch" metal:define-macro="entries">
          <tal:block tal:define="item_url item/getURL|item/absolute_url;
                                 item_id item/getId|item/id;
                                 item_title_or_id item/pretty_title_or_id;
                                 item_description item/Description;
                                 item_type item/portal_type;
                                 item_type_class python:'contenttype-' + normalizeString(item_type);
                                 item_wf_state item/review_state|python: context.portal_workflow.getInfoFor(item, 'review_state', '');
                                 item_wf_state_class python:'state-' + normalizeString(item_wf_state);
                                 item_creator item/Creator;
                                 is_exhibit_obj python:item_type == 'isaw.exhibitions.object';">
          <div class="ExhibitionChecklistItem">
            <div class="tileItem visualIEFloatFix">
              <a href="" tal:omit-tag="python:item_type == 'Image'" tal:attributes="href item_url; title item_title_or_id;">
                <img alt=""
                     tal:attributes="src string:${item_url}/@@images/image/tile; alt item_title_or_id;" />
              </a>
              <h5 class="tileHeadline"
                  tal:define="title python:(is_exhibit_obj and ('%d. '%repeat['item'].number()) or '') + item_title_or_id">
                <a tal:content="title" tal:omit-tag="python:item_type == 'Image'" tal:attributes="href item_url; title item_title_or_id;">Title</a>
              </h5>
            </div>
            <div class="ExhibitionChecklistBody">
              <p class="tileBody" tal:condition="not:is_exhibit_obj">
                <span class="description" tal:content="item_description" />
              </p>
              <p class="tileBody" tal:condition="is_exhibit_obj">
                <tal:obj define="item_obj item/getObject|nocall:item">
                  <tal:medium tal:condition="item_obj/medium|nothing">
                    <span class="object-medium" tal:content="item_obj/medium">Medium</span>, 
                  </tal:medium>
                  <tal:dimensions tal:condition="item_obj/dimensions|nothing">
                    <span class="object-dimensions" tal:content="item_obj/dimensions">Dimensions</span>, 
                  </tal:dimensions>
                  <tal:date tal:condition="item_obj/date|nothing">
                    <span class="object-date" tal:content="item_obj/date">Date</span>, 
                  </tal:date>
                  <tal:lender tal:condition="item_obj/lender|nothing">
                    <span class="object-lender">
                      <a href="" title="Lender"
                         tal:attributes="href item_obj/lender_link|nothing" 
                         tal:omit-tag="not:item_obj/lender_link" tal:content="item_obj/lender">Lender</a>,
                    </span>
                  </tal:lender>
                  <tal:inventory-num tal:condition="item_obj/inventory_num|nothing">
                    <span class="object-inventory-number" tal:content="item_obj/inventory_num">Inventory #</span>.
                  </tal:inventory-num>
                </tal:obj>
              </p>
              <div class="visualClear"><!-- --></div>
            </div>
          </div>
          </tal:block>
        </tal:entry>
      </div>
    </metal:use-core>
    </div>
  </metal:define-core>  
</metal:content-core>
</body>
</html>
